# AMORE Pacific RAG-KG Hybrid Agent

> **Level 4 ììœ¨ ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ** - RAG + Knowledge Graph + LLM-First ì•„í‚¤í…ì²˜ ê¸°ë°˜ì˜ Amazon ë² ìŠ¤íŠ¸ì…€ëŸ¬ ë¶„ì„ í”Œë«í¼

[![Python](https://img.shields.io/badge/Python-3.11+-blue.svg)](https://python.org)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.104+-green.svg)](https://fastapi.tiangolo.com)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

[English Version](./README_EN.md)

---

## ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#í”„ë¡œì íŠ¸-ê°œìš”)
2. [í•µì‹¬ ê¸°ìˆ  ìŠ¤íƒ](#í•µì‹¬-ê¸°ìˆ -ìŠ¤íƒ)
3. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
4. [í´ë” êµ¬ì¡°](#í´ë”-êµ¬ì¡°)
5. [í•µì‹¬ ëª¨ë“ˆ ì„¤ëª…](#í•µì‹¬-ëª¨ë“ˆ-ì„¤ëª…)
6. [API ëª…ì„¸](#api-ëª…ì„¸)
7. [ì „ëµì  KPI](#ì „ëµì -kpi)
8. [ì„¤ì¹˜ ë° ì‹¤í–‰](#ì„¤ì¹˜-ë°-ì‹¤í–‰)
9. [ë°°í¬ ê°€ì´ë“œ](#ë°°í¬-ê°€ì´ë“œ)
10. [ê°œë°œ íˆìŠ¤í† ë¦¬](#ê°œë°œ-íˆìŠ¤í† ë¦¬)

---

## í”„ë¡œì íŠ¸ ê°œìš”

### ë°°ê²½ ë° ëª©ì 

AMORE Pacificì˜ LANEIGE ë¸Œëœë“œê°€ Amazon US ì‹œì¥ì—ì„œ ê²½ìŸë ¥ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ ê°œë°œëœ **AI ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ**ì…ë‹ˆë‹¤. ì‹¤ì‹œê°„ ë² ìŠ¤íŠ¸ì…€ëŸ¬ ìˆœìœ„ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ê³  ë¶„ì„í•˜ì—¬ ì „ëµì  ì¸ì‚¬ì´íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### í•µì‹¬ ê°€ì¹˜

| ê°€ì¹˜ | ì„¤ëª… |
|------|------|
| **ìë™í™”** | ë§¤ì¼ ìë™ìœ¼ë¡œ ë°ì´í„° ìˆ˜ì§‘, ë¶„ì„, ì¸ì‚¬ì´íŠ¸ ìƒì„± |
| **ì§€ëŠ¥í™”** | RAG + Knowledge Graph ê¸°ë°˜ í•˜ì´ë¸Œë¦¬ë“œ AI |
| **ììœ¨ì„±** | LLM-First ì˜ì‚¬ê²°ì •ìœ¼ë¡œ ì‚¬ëŒ ê°œì… ìµœì†Œí™” |
| **ì‹¤ì‹œê°„ì„±** | ìˆœìœ„ ë³€ë™, ê²½ìŸì‚¬ ë™í–¥ ì¦‰ì‹œ íŒŒì•… |

### ì£¼ìš” ê¸°ëŠ¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ì£¼ìš” ê¸°ëŠ¥ Overview                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  ğŸ“Š ììœ¨ í¬ë¡¤ë§          ğŸ“ˆ KPI ë¶„ì„             ğŸ’¬ AI ì±—ë´‡         â”‚
â”‚  â”œâ”€ ë§¤ì¼ 09:00 ìë™     â”œâ”€ SoS (ì ìœ ìœ¨)         â”œâ”€ ìì—°ì–´ ì§ˆë¬¸      â”‚
â”‚  â”œâ”€ Top 100 ìˆ˜ì§‘        â”œâ”€ HHI (ì§‘ì¤‘ë„)         â”œâ”€ RAG ê¸°ë°˜ ì‘ë‹µ    â”‚
â”‚  â””â”€ ì¹´í…Œê³ ë¦¬ë³„ ë¶„ë¥˜     â””â”€ CPI (ê²½ìŸì§€ìˆ˜)       â””â”€ KG ì¶”ë¡  ê²°í•©     â”‚
â”‚                                                                     â”‚
â”‚  ğŸ”” ì•Œë¦¼ ì‹œìŠ¤í…œ          ğŸ“‹ ë¦¬í¬íŠ¸ ìƒì„±          ğŸ¯ Knowledge Graph  â”‚
â”‚  â”œâ”€ ìˆœìœ„ ê¸‰ë³€ë™ ê°ì§€    â”œâ”€ DOCX ë‚´ë³´ë‚´ê¸°        â”œâ”€ ë¸Œëœë“œ-ì œí’ˆ ê´€ê³„  â”‚
â”‚  â”œâ”€ ì´ë©”ì¼ ì•Œë¦¼         â”œâ”€ ì¼ì¼ ì¸ì‚¬ì´íŠ¸         â”œâ”€ ì˜¨í†¨ë¡œì§€ ì¶”ë¡     â”‚
â”‚  â””â”€ ì„ê³„ê°’ ì„¤ì •         â””â”€ ëŒ€ì‹œë³´ë“œ ì‹œê°í™”       â””â”€ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™    â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì™œ LLM-Firstì¸ê°€?

**ê¸°ì¡´ ê·œì¹™ ê¸°ë°˜ ì‹œìŠ¤í…œì˜ í•œê³„:**
```
[ê·œì¹™ ê¸°ë°˜]
if SoS > 15% and rank < 10:
    return "ì¢‹ìŒ"
else:
    return "ì£¼ì˜"

â†’ ë¬¸ì œ: SoS 14.9%, rank 11ì¸ ê²½ìš°?
        ê·œì¹™ìœ¼ë¡œëŠ” "ì£¼ì˜"ì´ì§€ë§Œ, ì‹¤ì œë¡œëŠ” ì¢‹ì€ ìƒí™©ì¼ ìˆ˜ ìˆìŒ
```

**LLM-First ì ‘ê·¼ì˜ ì¥ì :**
```
[LLM-First]
ì»¨í…ìŠ¤íŠ¸ = {
    SoS: 14.9%,
    rank: 11,
    ì „ì¼_ëŒ€ë¹„: +3%,
    ê²½ìŸì‚¬_SoS: 12%,
    ì‹œì¥_íŠ¸ë Œë“œ: ìƒìŠ¹
}

LLM ë¶„ì„ â†’ "SoSê°€ 14.9%ë¡œ ê²½ìŸì‚¬(12%) ëŒ€ë¹„ ìš°ìœ„ì´ë©°,
             ìˆœìœ„ë„ ì „ì¼ ëŒ€ë¹„ ìƒìŠ¹í•˜ê³  ìˆì–´ ê¸ì •ì ì¸ ìƒí™©ì…ë‹ˆë‹¤."
```

- ëª¨ë“  ìƒí™©ì—ì„œ LLMì´ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë¶„ì„í•˜ì—¬ ìµœì ì˜ íŒë‹¨
- ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ë„ ìì—°ì–´ë¡œ ì²˜ë¦¬ ê°€ëŠ¥
- ìƒˆë¡œìš´ íŒ¨í„´ì— ìœ ì—°í•˜ê²Œ ëŒ€ì‘

---

## í•µì‹¬ ê¸°ìˆ  ìŠ¤íƒ

### Backend
| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| Python | 3.11+ | ë©”ì¸ ì–¸ì–´ |
| FastAPI | 0.104+ | ë¹„ë™ê¸° API ì„œë²„ |
| LiteLLM | 1.40+ | LLM í”„ë¡œë°”ì´ë” í†µí•© |
| Uvicorn | 0.24+ | ASGI ì„œë²„ |

### AI/ML
| ê¸°ìˆ  | ìš©ë„ |
|------|------|
| OpenAI GPT-4 | LLM ì¶”ë¡  |
| ChromaDB | ë²¡í„° ë°ì´í„°ë² ì´ìŠ¤ |
| Sentence Transformers | ì„ë² ë”© ëª¨ë¸ |
| Custom Knowledge Graph | ì˜¨í†¨ë¡œì§€ ì¶”ë¡  |

### Data & Integration
| ê¸°ìˆ  | ìš©ë„ |
|------|------|
| Playwright | Amazon í¬ë¡¤ë§ |
| Pandas/NumPy | ë°ì´í„° ì²˜ë¦¬ |
| Google Sheets API | ë°ì´í„° ì˜ì†ì„± |
| python-docx | ë¦¬í¬íŠ¸ ìƒì„± |

### Deployment
| ê¸°ìˆ  | ìš©ë„ |
|------|------|
| Docker | ì»¨í…Œì´ë„ˆí™” |
| Railway | í´ë¼ìš°ë“œ ë°°í¬ |

---

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì „ì²´ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Level 4 Autonomous Agent                         â”‚
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                        UnifiedBrain                              â”‚    â”‚
â”‚  â”‚                     (LLM-First ì˜ì‚¬ê²°ì •)                         â”‚    â”‚
â”‚  â”‚                                                                   â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚  â”‚  â”‚  ìš°ì„ ìˆœìœ„   â”‚  â”‚  ììœ¨        â”‚  â”‚     ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ      â”‚   â”‚    â”‚
â”‚  â”‚  â”‚    í      â”‚  â”‚  ìŠ¤ì¼€ì¤„ëŸ¬     â”‚  â”‚   (ì•Œë¦¼/ì½œë°±/ë¡œê¹…)     â”‚   â”‚    â”‚
â”‚  â”‚  â”‚            â”‚  â”‚              â”‚  â”‚                        â”‚   â”‚    â”‚
â”‚  â”‚  â”‚ USER > ALERTâ”‚  â”‚ 09:00 í¬ë¡¤ë§ â”‚  â”‚ on_alert: ì´ë©”ì¼ ë°œì†¡  â”‚   â”‚    â”‚
â”‚  â”‚  â”‚  > SCHEDULEDâ”‚  â”‚ 30ë¶„ ì²´í¬    â”‚  â”‚ on_complete: ë¡œê¹…      â”‚   â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                    â”‚                                      â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚                    â–¼               â–¼               â–¼                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚     QueryAgent      â”‚ â”‚   WorkflowAgent     â”‚ â”‚     AlertAgent      â”‚â”‚
â”‚  â”‚                     â”‚ â”‚                     â”‚ â”‚                     â”‚â”‚
â”‚  â”‚ â€¢ ì§ˆë¬¸ ë¶„ì„         â”‚ â”‚ â€¢ Think-Act-Observe â”‚ â”‚ â€¢ ì„ê³„ê°’ ëª¨ë‹ˆí„°ë§   â”‚â”‚
â”‚  â”‚ â€¢ RAG+KG ê²€ìƒ‰       â”‚ â”‚ â€¢ ë°°ì¹˜ ì‹¤í–‰         â”‚ â”‚ â€¢ ì•Œë¦¼ ìƒì„±         â”‚â”‚
â”‚  â”‚ â€¢ LLM ì‘ë‹µ ìƒì„±     â”‚ â”‚ â€¢ ì—ëŸ¬ ë³µêµ¬         â”‚ â”‚ â€¢ ì´ë©”ì¼ ë°œì†¡       â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                    â”‚                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              Core Components                               â”‚
â”‚                                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  ContextGatherer â”‚  â”‚  HybridRetriever â”‚  â”‚    ResponsePipeline      â”‚â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                          â”‚â”‚
â”‚  â”‚  ë°ì´í„° ìˆ˜ì§‘     â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚  â€¢ ì‘ë‹µ ìƒì„±             â”‚â”‚
â”‚  â”‚  â€¢ ë©”íŠ¸ë¦­ ë¡œë“œ   â”‚  â”‚  â”‚    RAG     â”‚  â”‚  â”‚  â€¢ ì‹ ë¢°ë„ í‰ê°€           â”‚â”‚
â”‚  â”‚  â€¢ KG ì¡°íšŒ       â”‚  â”‚  â”‚  (ë¬¸ì„œê²€ìƒ‰) â”‚  â”‚  â”‚  â€¢ ìºì‹±                  â”‚â”‚
â”‚  â”‚  â€¢ ì´ë ¥ ì¡°íšŒ     â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚  â€¢ í¬ë§·íŒ…                â”‚â”‚
â”‚  â”‚                  â”‚  â”‚  â”‚ Knowledge  â”‚  â”‚  â”‚                          â”‚â”‚
â”‚  â”‚                  â”‚  â”‚  â”‚   Graph    â”‚  â”‚  â”‚                          â”‚â”‚
â”‚  â”‚                  â”‚  â”‚  â”‚ (ê´€ê³„ì¶”ë¡ ) â”‚  â”‚  â”‚                          â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              Execution Layer                               â”‚
â”‚                                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ CrawlerAgent â”‚ â”‚ StorageAgent â”‚ â”‚ MetricsAgent â”‚ â”‚ HybridChatbot    â”‚ â”‚
â”‚  â”‚              â”‚ â”‚              â”‚ â”‚              â”‚ â”‚                  â”‚ â”‚
â”‚  â”‚ Amazon í¬ë¡¤ë§â”‚ â”‚ ë°ì´í„° ì €ì¥  â”‚ â”‚ KPI ê³„ì‚°     â”‚ â”‚ ëŒ€í™”í˜• ì±—ë´‡      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                Data Layer                                  â”‚
â”‚                                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   ChromaDB   â”‚  â”‚     JSON     â”‚  â”‚         Google Sheets          â”‚  â”‚
â”‚  â”‚  (Vectors)   â”‚  â”‚   (Cache)    â”‚  â”‚         (Persistence)          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë°ì´í„° ì²˜ë¦¬ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ì‚¬ìš©ì ì§ˆë¬¸ ì²˜ë¦¬ íë¦„                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚    "LANEIGE ìˆœìœ„ê°€ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?"                                       â”‚
â”‚                    â”‚                                                     â”‚
â”‚                    â–¼                                                     â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚    â”‚         UnifiedBrain         â”‚                                     â”‚
â”‚    â”‚    1. ìºì‹œ í™•ì¸ (Hit/Miss)   â”‚                                     â”‚
â”‚    â”‚    2. ìš°ì„ ìˆœìœ„ ì„¤ì • (USER)   â”‚                                     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                   â”‚                                                      â”‚
â”‚                   â–¼                                                      â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚    â”‚       ContextGatherer        â”‚                                     â”‚
â”‚    â”‚                              â”‚                                     â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                     â”‚
â”‚    â”‚  â”‚ 1. ì—”í‹°í‹° ì¶”ì¶œ         â”‚  â”‚                                     â”‚
â”‚    â”‚  â”‚    "LANEIGE" â†’ Brand   â”‚  â”‚                                     â”‚
â”‚    â”‚  â”‚    "ìˆœìœ„" â†’ Indicator  â”‚  â”‚                                     â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                     â”‚
â”‚    â”‚                              â”‚                                     â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                     â”‚
â”‚    â”‚  â”‚ 2. í˜„ì¬ ë©”íŠ¸ë¦­ ë¡œë“œ    â”‚  â”‚                                     â”‚
â”‚    â”‚  â”‚    rank: 8             â”‚  â”‚                                     â”‚
â”‚    â”‚  â”‚    rank_delta: +2      â”‚  â”‚                                     â”‚
â”‚    â”‚  â”‚    sos: 15.3%          â”‚  â”‚                                     â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                   â”‚                                                      â”‚
â”‚                   â–¼                                                      â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚    â”‚       HybridRetriever        â”‚                                     â”‚
â”‚    â”‚                              â”‚                                     â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                                     â”‚
â”‚    â”‚  â”‚   RAG    â”‚ â”‚    KG     â”‚  â”‚                                     â”‚
â”‚    â”‚  â”‚          â”‚ â”‚           â”‚  â”‚                                     â”‚
â”‚    â”‚  â”‚ ë¬¸ì„œê²€ìƒ‰ â”‚ â”‚ ê´€ê³„ì¶”ë¡   â”‚  â”‚                                     â”‚
â”‚    â”‚  â”‚ "ìˆœìœ„ë€" â”‚ â”‚ LANEIGE   â”‚  â”‚                                     â”‚
â”‚    â”‚  â”‚ ì •ì˜ë¬¸ì„œ â”‚ â”‚ â†’AMORE    â”‚  â”‚                                     â”‚
â”‚    â”‚  â”‚ ê²€ìƒ‰    â”‚ â”‚ â†’Lip Care â”‚  â”‚                                     â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                                     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                   â”‚                                                      â”‚
â”‚                   â–¼                                                      â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚    â”‚         LLM í˜¸ì¶œ             â”‚                                     â”‚
â”‚    â”‚                              â”‚                                     â”‚
â”‚    â”‚  Context:                    â”‚                                     â”‚
â”‚    â”‚  - í˜„ì¬ ìˆœìœ„: 8ìœ„ (â†‘2)      â”‚                                     â”‚
â”‚    â”‚  - SoS: 15.3%               â”‚                                     â”‚
â”‚    â”‚  - ê²½ìŸì‚¬ ëŒ€ë¹„ ìš°ìœ„          â”‚                                     â”‚
â”‚    â”‚  - ìˆœìœ„ ì •ì˜ ë¬¸ì„œ            â”‚                                     â”‚
â”‚    â”‚                              â”‚                                     â”‚
â”‚    â”‚  â†’ GPT-4 ì‘ë‹µ ìƒì„±           â”‚                                     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                   â”‚                                                      â”‚
â”‚                   â–¼                                                      â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚    â”‚      ResponsePipeline        â”‚                                     â”‚
â”‚    â”‚                              â”‚                                     â”‚
â”‚    â”‚  â€¢ ì‹ ë¢°ë„ í‰ê°€: 0.92         â”‚                                     â”‚
â”‚    â”‚  â€¢ ìºì‹œ ì €ì¥                 â”‚                                     â”‚
â”‚    â”‚  â€¢ ì¶œì²˜ ì²¨ë¶€                 â”‚                                     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                   â”‚                                                      â”‚
â”‚                   â–¼                                                      â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚    â”‚           ì‘ë‹µ               â”‚                                     â”‚
â”‚    â”‚                              â”‚                                     â”‚
â”‚    â”‚  "í˜„ì¬ LANEIGE Lip Sleeping  â”‚                                     â”‚
â”‚    â”‚   MaskëŠ” 8ìœ„ë¡œ, ì „ì¼ ëŒ€ë¹„    â”‚                                     â”‚
â”‚    â”‚   2ë‹¨ê³„ ìƒìŠ¹í–ˆìŠµë‹ˆë‹¤.        â”‚                                     â”‚
â”‚    â”‚   SoS 15.3%ë¡œ ê²½ìŸì‚¬ ëŒ€ë¹„    â”‚                                     â”‚
â”‚    â”‚   ìš°ìœ„ë¥¼ ìœ ì§€í•˜ê³  ìˆìŠµë‹ˆë‹¤." â”‚                                     â”‚
â”‚    â”‚                              â”‚                                     â”‚
â”‚    â”‚  ì‹ ë¢°ë„: 92%                 â”‚                                     â”‚
â”‚    â”‚  ì¶œì²˜: Dashboard Data        â”‚                                     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ììœ¨ í¬ë¡¤ë§ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ììœ¨ ìŠ¤ì¼€ì¤„ëŸ¬ ë™ì‘                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    AutonomousScheduler                           â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  ë“±ë¡ëœ ìŠ¤ì¼€ì¤„:                                                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ 1. daily_crawl     â”‚ ë§¤ì¼ 09:00  â”‚ ì „ì²´ ì¹´í…Œê³ ë¦¬ í¬ë¡¤ë§    â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ 2. check_alerts    â”‚ 30ë¶„ ê°„ê²©   â”‚ ì•Œë¦¼ ì¡°ê±´ ì²´í¬          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ 3. update_kg       â”‚ í¬ë¡¤ë§ í›„   â”‚ Knowledge Graph ì—…ë°ì´íŠ¸â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                    â”‚                                     â”‚
â”‚                                    â–¼                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      WorkflowAgent                               â”‚   â”‚
â”‚  â”‚                   (Think-Act-Observe Loop)                       â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â”‚  Step 1: CRAWL                                                   â”‚   â”‚
â”‚  â”‚  â”œâ”€ CrawlerAgent.run(categories)                                 â”‚   â”‚
â”‚  â”‚  â””â”€ Amazon Top 100 Ã— N categories                                â”‚   â”‚
â”‚  â”‚                         â”‚                                         â”‚   â”‚
â”‚  â”‚                         â–¼                                         â”‚   â”‚
â”‚  â”‚  Step 2: STORE                                                   â”‚   â”‚
â”‚  â”‚  â”œâ”€ StorageAgent.save(data)                                      â”‚   â”‚
â”‚  â”‚  â””â”€ Google Sheets + JSON                                         â”‚   â”‚
â”‚  â”‚                         â”‚                                         â”‚   â”‚
â”‚  â”‚                         â–¼                                         â”‚   â”‚
â”‚  â”‚  Step 3: UPDATE_KG                                               â”‚   â”‚
â”‚  â”‚  â”œâ”€ KnowledgeGraph.update(entities)                              â”‚   â”‚
â”‚  â”‚  â””â”€ ë¸Œëœë“œ-ì œí’ˆ-ì¹´í…Œê³ ë¦¬ ê´€ê³„ ê°±ì‹                                â”‚   â”‚
â”‚  â”‚                         â”‚                                         â”‚   â”‚
â”‚  â”‚                         â–¼                                         â”‚   â”‚
â”‚  â”‚  Step 4: CALCULATE                                               â”‚   â”‚
â”‚  â”‚  â”œâ”€ MetricsAgent.calculate()                                     â”‚   â”‚
â”‚  â”‚  â””â”€ SoS, HHI, CPI, Volatility ê³„ì‚°                               â”‚   â”‚
â”‚  â”‚                         â”‚                                         â”‚   â”‚
â”‚  â”‚                         â–¼                                         â”‚   â”‚
â”‚  â”‚  Step 5: INSIGHT                                                 â”‚   â”‚
â”‚  â”‚  â”œâ”€ HybridInsightAgent.generate()                                â”‚   â”‚
â”‚  â”‚  â””â”€ LLM ê¸°ë°˜ ì¼ì¼ ì¸ì‚¬ì´íŠ¸ ìƒì„±                                  â”‚   â”‚
â”‚  â”‚                         â”‚                                         â”‚   â”‚
â”‚  â”‚                         â–¼                                         â”‚   â”‚
â”‚  â”‚  Step 6: CHECK_ALERTS                                            â”‚   â”‚
â”‚  â”‚  â”œâ”€ AlertAgent.check(thresholds)                                 â”‚   â”‚
â”‚  â”‚  â””â”€ ìˆœìœ„ê¸‰ë³€ë™, SoSë³€í™” ë“± ê°ì§€                                  â”‚   â”‚
â”‚  â”‚                                                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## í´ë” êµ¬ì¡°

```
AMORE-RAG-ONTOLOGY-HYBRID AGENT/
â”‚
â”œâ”€â”€ ğŸ“ src/                          # ë©”ì¸ ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ core/                     # â­ í•µì‹¬ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
â”‚   â”‚   â”œâ”€â”€ brain.py                 # Level 4 ììœ¨ ì—ì´ì „íŠ¸ ë‘ë‡Œ (LLM-First)
â”‚   â”‚   â”œâ”€â”€ unified_orchestrator.py  # í†µí•© ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° (v2 APIìš©)
â”‚   â”‚   â”œâ”€â”€ context_gatherer.py      # RAG + KG ì»¨í…ìŠ¤íŠ¸ ìˆ˜ì§‘
â”‚   â”‚   â”œâ”€â”€ response_pipeline.py     # ì‘ë‹µ ìƒì„± íŒŒì´í”„ë¼ì¸
â”‚   â”‚   â”œâ”€â”€ confidence.py            # ì‹ ë¢°ë„ í‰ê°€ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ cache.py                 # ì‘ë‹µ ìºì‹± (TTL ê¸°ë°˜)
â”‚   â”‚   â”œâ”€â”€ state.py                 # ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° ìƒíƒœ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ tools.py                 # ì—ì´ì „íŠ¸ ë„êµ¬ ì •ì˜
â”‚   â”‚   â”œâ”€â”€ models.py                # ë°ì´í„° ëª¨ë¸ (Context, Response)
â”‚   â”‚   â”œâ”€â”€ crawl_manager.py         # ë°±ê·¸ë¼ìš´ë“œ í¬ë¡¤ë§ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ state_manager.py         # ì „ì—­ ìƒíƒœ ë° ì•Œë¦¼ ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ simple_chat.py           # ë‹¨ìˆœí™”ëœ ì±„íŒ… ì„œë¹„ìŠ¤ (v3ìš©)
â”‚   â”‚   â”œâ”€â”€ rules_engine.py          # ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ì—”ì§„
â”‚   â”‚   â””â”€â”€ llm_orchestrator.py      # LLM ì¡°ìœ¨ (ë ˆê±°ì‹œ)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ agents/                   # â­ ì—ì´ì „íŠ¸ ëª¨ë“ˆ
â”‚   â”‚   â”œâ”€â”€ query_agent.py           # ì§ˆë¬¸ ì²˜ë¦¬ ì—ì´ì „íŠ¸ (Brainìš©)
â”‚   â”‚   â”œâ”€â”€ workflow_agent.py        # ë°°ì¹˜ ì›Œí¬í”Œë¡œìš° ì—ì´ì „íŠ¸
â”‚   â”‚   â”œâ”€â”€ alert_agent.py           # ì•Œë¦¼ ìƒì„± ì—ì´ì „íŠ¸
â”‚   â”‚   â”œâ”€â”€ crawler_agent.py         # Amazon í¬ë¡¤ë§ ì—ì´ì „íŠ¸
â”‚   â”‚   â”œâ”€â”€ storage_agent.py         # ë°ì´í„° ì €ì¥ ì—ì´ì „íŠ¸
â”‚   â”‚   â”œâ”€â”€ metrics_agent.py         # ì§€í‘œ ê³„ì‚° ì—ì´ì „íŠ¸
â”‚   â”‚   â”œâ”€â”€ hybrid_chatbot_agent.py  # í•˜ì´ë¸Œë¦¬ë“œ ì±—ë´‡ (RAG+KG)
â”‚   â”‚   â”œâ”€â”€ hybrid_insight_agent.py  # í•˜ì´ë¸Œë¦¬ë“œ ì¸ì‚¬ì´íŠ¸ ìƒì„±
â”‚   â”‚   â”œâ”€â”€ chatbot_agent.py         # ê¸°ë³¸ ì±—ë´‡ (deprecated)
â”‚   â”‚   â””â”€â”€ insight_agent.py         # ê¸°ë³¸ ì¸ì‚¬ì´íŠ¸ (deprecated)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ rag/                      # â­ RAG ì‹œìŠ¤í…œ
â”‚   â”‚   â”œâ”€â”€ router.py                # ì§ˆë¬¸ ìœ í˜• ë¶„ë¥˜ (5ê°€ì§€ ìœ í˜•)
â”‚   â”‚   â”œâ”€â”€ retriever.py             # ë¬¸ì„œ ê²€ìƒ‰ê¸° (ChromaDB)
â”‚   â”‚   â”œâ”€â”€ hybrid_retriever.py      # RAG + KG í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰
â”‚   â”‚   â”œâ”€â”€ context_builder.py       # ë™ì  ì»¨í…ìŠ¤íŠ¸ êµ¬ì„±
â”‚   â”‚   â””â”€â”€ templates.py             # í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ ontology/                 # â­ Knowledge Graph
â”‚   â”‚   â”œâ”€â”€ knowledge_graph.py       # KG êµ¬í˜„ (íŠ¸ë¦¬í”Œ ìŠ¤í† ì–´)
â”‚   â”‚   â”œâ”€â”€ reasoner.py              # ì˜¨í†¨ë¡œì§€ ì¶”ë¡  ì—”ì§„
â”‚   â”‚   â”œâ”€â”€ schema.py                # ì—”í‹°í‹° ìŠ¤í‚¤ë§ˆ ì •ì˜
â”‚   â”‚   â”œâ”€â”€ relations.py             # ê´€ê³„ ìœ í˜• ì •ì˜
â”‚   â”‚   â””â”€â”€ business_rules.py        # ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ì •ì˜
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ memory/                   # ëŒ€í™” ë©”ëª¨ë¦¬
â”‚   â”‚   â”œâ”€â”€ context.py               # ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ history.py               # ëŒ€í™” ì´ë ¥
â”‚   â”‚   â””â”€â”€ session.py               # ì„¸ì…˜ ê´€ë¦¬
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ tools/                    # ìœ í‹¸ë¦¬í‹° ë„êµ¬
â”‚   â”‚   â”œâ”€â”€ amazon_scraper.py        # Amazon í¬ë¡¤ëŸ¬
â”‚   â”‚   â”œâ”€â”€ metric_calculator.py     # KPI ê³„ì‚°ê¸°
â”‚   â”‚   â”œâ”€â”€ dashboard_exporter.py    # ëŒ€ì‹œë³´ë“œ ë‚´ë³´ë‚´ê¸°
â”‚   â”‚   â”œâ”€â”€ sheets_writer.py         # Google Sheets ì—°ë™
â”‚   â”‚   â””â”€â”€ email_sender.py          # ì´ë©”ì¼ ë°œì†¡
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ monitoring/               # ëª¨ë‹ˆí„°ë§
â”‚       â”œâ”€â”€ logger.py                # êµ¬ì¡°í™” ë¡œê¹…
â”‚       â”œâ”€â”€ metrics.py               # í’ˆì§ˆ ë©”íŠ¸ë¦­
â”‚       â””â”€â”€ tracer.py                # ì‹¤í–‰ íŠ¸ë ˆì´ì‹±
â”‚
â”œâ”€â”€ ğŸ“ dashboard/                    # í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ amore_unified_dashboard_v4.html  # ë©”ì¸ ëŒ€ì‹œë³´ë“œ
â”‚   â””â”€â”€ test_chat.html               # ì±„íŒ… í…ŒìŠ¤íŠ¸
â”‚
â”œâ”€â”€ ğŸ“ data/                         # ë°ì´í„° ì €ì¥ì†Œ
â”‚   â”œâ”€â”€ dashboard_data.json          # ëŒ€ì‹œë³´ë“œ ìƒíƒœ
â”‚   â”œâ”€â”€ knowledge_graph.json         # KG ë°ì´í„°
â”‚   â””â”€â”€ metrics/                     # ì§€í‘œ ì´ë ¥
â”‚
â”œâ”€â”€ ğŸ“ docs/                         # ë¬¸ì„œ
â”‚   â”œâ”€â”€ architecture/                # ì•„í‚¤í…ì²˜ ë¬¸ì„œ
â”‚   â””â”€â”€ guides/                      # ë¹„ì¦ˆë‹ˆìŠ¤ ê°€ì´ë“œ
â”‚       â”œâ”€â”€ Strategic Indicators Definition.md
â”‚       â”œâ”€â”€ Metric Interpretation Guide.md
â”‚       â””â”€â”€ Indicator Combination Playbook.md
â”‚
â”œâ”€â”€ ğŸ“ config/                       # ì„¤ì •
â”‚   â””â”€â”€ thresholds.json              # ì•Œë¦¼ ì„ê³„ê°’
â”‚
â”œâ”€â”€ ğŸ“ tests/                        # í…ŒìŠ¤íŠ¸
â”œâ”€â”€ ğŸ“ logs/                         # ë¡œê·¸
â”œâ”€â”€ ğŸ“ _deprecated/                  # ë¯¸ì‚¬ìš© ëª¨ë“ˆ
â”‚
â”œâ”€â”€ ğŸ“„ dashboard_api.py              # â­ FastAPI ì„œë²„ (ë©”ì¸)
â”œâ”€â”€ ğŸ“„ start.py                      # ì„œë²„ ì‹œì‘ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ ğŸ“„ orchestrator.py               # CLI ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
â”œâ”€â”€ ğŸ“„ main.py                       # ë©”ì¸ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸
â”‚
â”œâ”€â”€ ğŸ“„ Dockerfile                    # Docker ì„¤ì •
â”œâ”€â”€ ğŸ“„ railway.toml                  # Railway ë°°í¬ ì„¤ì •
â”œâ”€â”€ ğŸ“„ requirements.txt              # Python ì˜ì¡´ì„±
â””â”€â”€ ğŸ“„ .env.example                  # í™˜ê²½ ë³€ìˆ˜ ì˜ˆì‹œ
```

---

## í•µì‹¬ ëª¨ë“ˆ ì„¤ëª…

### 1. UnifiedBrain (`src/core/brain.py`)

**Level 4 ììœ¨ ì—ì´ì „íŠ¸ì˜ í•µì‹¬ ë‘ë‡Œ** - ëª¨ë“  ì—ì´ì „íŠ¸ë¥¼ í†µì œí•˜ëŠ” ì¤‘ì•™ ì œì–´ ì‹œìŠ¤í…œ

```python
from src.core.brain import UnifiedBrain, get_initialized_brain, BrainMode, TaskPriority

# Brain ì¸ìŠ¤í„´ìŠ¤ íšë“ (ì‹±ê¸€í†¤)
brain = await get_initialized_brain()

# ì‚¬ìš©ì ì§ˆë¬¸ ì²˜ë¦¬
response = await brain.process_query(
    query="LANEIGE ìˆœìœ„ê°€ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?",
    session_id="user_123",
    current_metrics=dashboard_data
)

print(response.content)     # ì‘ë‹µ í…ìŠ¤íŠ¸
print(response.confidence)  # ì‹ ë¢°ë„ (0.0 ~ 1.0)
print(response.sources)     # ì¶œì²˜ ëª©ë¡
print(response.reasoning)   # ì¶”ë¡  ê³¼ì •

# ììœ¨ ìŠ¤ì¼€ì¤„ëŸ¬ ì‹œì‘
await brain.start_scheduler()

# ììœ¨ ì‚¬ì´í´ ìˆ˜ë™ ì‹¤í–‰
result = await brain.run_autonomous_cycle()

# ì•Œë¦¼ ì²´í¬
alerts = await brain.check_alerts(metrics_data)
```

**í•µì‹¬ ê¸°ëŠ¥:**

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| **LLM-First ì˜ì‚¬ê²°ì •** | ëª¨ë“  íŒë‹¨ì„ LLMì´ ìˆ˜í–‰, ê·œì¹™ ê¸°ë°˜ ë¹ ë¥¸ ê²½ë¡œ ì—†ìŒ |
| **ìš°ì„ ìˆœìœ„ í** | `USER_REQUEST(0) > CRITICAL_ALERT(1) > SCHEDULED(2) > BACKGROUND(3)` |
| **ììœ¨ ìŠ¤ì¼€ì¤„ëŸ¬** | ì¼ì¼ í¬ë¡¤ë§ (09:00), ì£¼ê¸°ì  ì•Œë¦¼ ì²´í¬ (30ë¶„) |
| **ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ** | ì•Œë¦¼, ì™„ë£Œ, ì—ëŸ¬ ì´ë²¤íŠ¸ì— ëŒ€í•œ ì½œë°± ì²˜ë¦¬ |

**ë™ì‘ ëª¨ë“œ:**

| ëª¨ë“œ | ì„¤ëª… | ì „í™˜ ì¡°ê±´ |
|------|------|-----------|
| `IDLE` | ëŒ€ê¸° | ì´ˆê¸° ìƒíƒœ |
| `RESPONDING` | ì‚¬ìš©ì ì§ˆë¬¸ ì²˜ë¦¬ ì¤‘ | ì§ˆë¬¸ ìˆ˜ì‹  ì‹œ |
| `AUTONOMOUS` | ììœ¨ ì‘ì—… ìˆ˜í–‰ ì¤‘ | ìŠ¤ì¼€ì¤„ëŸ¬ íŠ¸ë¦¬ê±° |
| `EXECUTING` | ì—ì´ì „íŠ¸ ì‹¤í–‰ ì¤‘ | ë„êµ¬ í˜¸ì¶œ ì‹œ |
| `ALERTING` | ì•Œë¦¼ ì²˜ë¦¬ ì¤‘ | ì•Œë¦¼ ì¡°ê±´ ì¶©ì¡± ì‹œ |

---

### 2. QueryAgent (`src/agents/query_agent.py`)

**ì‚¬ìš©ì ì§ˆë¬¸ ì²˜ë¦¬ ì „ë‹´ ì—ì´ì „íŠ¸** - RAG + KG í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ìœ¼ë¡œ ì •í™•í•œ ì‘ë‹µ ìƒì„±

```python
from src.agents import QueryAgent

query_agent = QueryAgent(
    model="gpt-4o-mini",
    kg_persist_path="./data/knowledge_graph.json",
    cache_ttl=3600
)
await query_agent.initialize()

# ì§ˆë¬¸ ì²˜ë¦¬
result = await query_agent.process("LANEIGE SoSê°€ ë­ì•¼?")

print(result.response)       # ì‘ë‹µ í…ìŠ¤íŠ¸
print(result.confidence)     # ì‹ ë¢°ë„
print(result.sources)        # ì¶œì²˜
print(result.entities)       # ì¶”ì¶œëœ ì—”í‹°í‹° {"brands": ["LANEIGE"], "indicators": ["SoS"]}
print(result.inferences)     # KG ì¶”ë¡  ê²°ê³¼
print(result.processing_time_ms)  # ì²˜ë¦¬ ì‹œê°„
print(result.from_cache)     # ìºì‹œ íˆíŠ¸ ì—¬ë¶€

# Knowledge Graph ì§ì ‘ ì¡°íšŒ
triples = await query_agent.query_knowledge_graph(
    subject="LANEIGE",
    predicate="hasProduct"
)
# â†’ [{"subject": "LANEIGE", "predicate": "hasProduct", "object": "Lip Sleeping Mask"}]

# ì—”í‹°í‹° ê´€ê³„ ì¡°íšŒ
relations = await query_agent.get_entity_relations("LANEIGE")
# â†’ {"entity": "LANEIGE", "outgoing": [...], "incoming": [...]}
```

**ì²˜ë¦¬ íë¦„:**

```
1. ìºì‹œ í™•ì¸ â†’ Hitì´ë©´ ì¦‰ì‹œ ë°˜í™˜
2. ì—”í‹°í‹° ì¶”ì¶œ (ë¸Œëœë“œ, ì§€í‘œ, ì¹´í…Œê³ ë¦¬, ê¸°ê°„)
3. ì»¨í…ìŠ¤íŠ¸ ìˆ˜ì§‘ (RAG ë¬¸ì„œ + KG ê´€ê³„ + í˜„ì¬ ë©”íŠ¸ë¦­)
4. ì˜¨í†¨ë¡œì§€ ì¶”ë¡  ìˆ˜í–‰
5. LLM ì‘ë‹µ ìƒì„±
6. ì‹ ë¢°ë„ í‰ê°€
7. ìºì‹œ ì €ì¥ (fallback ì•„ë‹Œ ê²½ìš°)
```

---

### 3. WorkflowAgent (`src/agents/workflow_agent.py`)

**ë°°ì¹˜ ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ì—ì´ì „íŠ¸** - Think-Act-Observe íŒ¨í„´ìœ¼ë¡œ ë³µì¡í•œ ì‘ì—… ìˆ˜í–‰

```python
from src.agents import WorkflowAgent

workflow_agent = WorkflowAgent()
await workflow_agent.initialize()

# ì „ì²´ ì›Œí¬í”Œë¡œìš° ì‹¤í–‰
result = await workflow_agent.run_workflow(
    categories=["Lip Care", "Skin Care"],
    session_id="daily_batch"
)

print(result["status"])           # "completed" or "partial" or "failed"
print(result["completed_steps"])  # ["CRAWL", "STORE", "UPDATE_KG", ...]
print(result["failed_steps"])     # ì‹¤íŒ¨í•œ ë‹¨ê³„
print(result["insights"])         # ìƒì„±ëœ ì¸ì‚¬ì´íŠ¸
print(result["alerts"])           # ë°œìƒí•œ ì•Œë¦¼
print(result["total_time_ms"])    # ì´ ì†Œìš” ì‹œê°„
```

**Think-Act-Observe ë£¨í”„:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     WorkflowAgent ì‹¤í–‰ íë¦„                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ THINK: í˜„ì¬ ìƒíƒœ ë¶„ì„                                     â”‚   â”‚
â”‚  â”‚ - ì–´ë–¤ ë‹¨ê³„ê°€ ì™„ë£Œë˜ì—ˆëŠ”ê°€?                               â”‚   â”‚
â”‚  â”‚ - ë‹¤ìŒ ë‹¨ê³„ëŠ” ë¬´ì—‡ì¸ê°€?                                   â”‚   â”‚
â”‚  â”‚ - ì´ì „ ë‹¨ê³„ê°€ ì„±ê³µí–ˆëŠ”ê°€?                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                           â”‚                                      â”‚
â”‚                           â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ACT: ë‹¤ìŒ ë‹¨ê³„ ì‹¤í–‰                                       â”‚   â”‚
â”‚  â”‚                                                            â”‚   â”‚
â”‚  â”‚  CRAWL â”€â”€â–¶ STORE â”€â”€â–¶ UPDATE_KG â”€â”€â–¶ CALCULATE             â”‚   â”‚
â”‚  â”‚                                         â”‚                  â”‚   â”‚
â”‚  â”‚                                         â–¼                  â”‚   â”‚
â”‚  â”‚                              INSIGHT â”€â”€â–¶ EXPORT            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                           â”‚                                      â”‚
â”‚                           â–¼                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ OBSERVE: ê²°ê³¼ í™•ì¸                                        â”‚   â”‚
â”‚  â”‚ - ì„±ê³µ: ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰                                  â”‚   â”‚
â”‚  â”‚ - ì‹¤íŒ¨: ì—ëŸ¬ ì „ëµì— ë”°ë¼ ì²˜ë¦¬                             â”‚   â”‚
â”‚  â”‚   - RETRY: ì¬ì‹œë„ (ìµœëŒ€ 2íšŒ)                              â”‚   â”‚
â”‚  â”‚   - SKIP: ê±´ë„ˆë›°ê¸°                                        â”‚   â”‚
â”‚  â”‚   - ABORT: ì¤‘ë‹¨                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 4. Knowledge Graph (`src/ontology/`)

**ì˜¨í†¨ë¡œì§€ ê¸°ë°˜ ê´€ê³„ ëª¨ë¸ë§** - ì—”í‹°í‹° ê°„ ê´€ê³„ë¥¼ êµ¬ì¡°í™”í•˜ì—¬ ì¶”ë¡  ê°€ëŠ¥

```python
from src.ontology.knowledge_graph import KnowledgeGraph
from src.ontology.reasoner import OntologyReasoner

# Knowledge Graph ì´ˆê¸°í™”
kg = KnowledgeGraph(persist_path="./data/knowledge_graph.json")

# íŠ¸ë¦¬í”Œ ì¶”ê°€ (Subject - Predicate - Object)
kg.add_triple("LANEIGE", "belongsTo", "AMORE Pacific")
kg.add_triple("LANEIGE", "hasProduct", "Lip Sleeping Mask")
kg.add_triple("Lip Sleeping Mask", "hasCategory", "Lip Care")
kg.add_triple("Lip Sleeping Mask", "hasRank", "8")
kg.add_triple("LANEIGE", "competesWith", "Laniege")  # ìœ ì‚¬ ë¸Œëœë“œ

# íŠ¸ë¦¬í”Œ ì¡°íšŒ
triples = kg.query(subject="LANEIGE")
# â†’ [("LANEIGE", "belongsTo", "AMORE Pacific"), ...]

# ì¶”ë¡ 
reasoner = OntologyReasoner(kg)
inferences = reasoner.infer("LANEIGE")
# â†’ [
#     {"type": "ownership", "inference": "LANEIGEëŠ” AMORE Pacific ì†Œì†"},
#     {"type": "category", "inference": "Lip Care ì¹´í…Œê³ ë¦¬ì— ì œí’ˆ ë³´ìœ "},
#     {"type": "competition", "inference": "Laniegeì™€ ê²½ìŸ ê´€ê³„"}
# ]
```

**ì˜¨í†¨ë¡œì§€ ìŠ¤í‚¤ë§ˆ:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Ontology Schema                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Brand     â”‚â”€â”€â”€â”€ belongsTo â”€â”€â”€â”€â”€â”€â–¶â”‚    Corporation      â”‚   â”‚
â”‚  â”‚             â”‚                      â”‚                     â”‚   â”‚
â”‚  â”‚ â€¢ name      â”‚                      â”‚ â€¢ name              â”‚   â”‚
â”‚  â”‚ â€¢ country   â”‚                      â”‚ â€¢ headquarters      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                                                        â”‚
â”‚         â”‚ hasProduct                                             â”‚
â”‚         â–¼                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Product   â”‚â”€â”€â”€â”€ hasCategory â”€â”€â”€â”€â–¶â”‚     Category        â”‚   â”‚
â”‚  â”‚             â”‚                      â”‚                     â”‚   â”‚
â”‚  â”‚ â€¢ ASIN      â”‚                      â”‚ â€¢ name              â”‚   â”‚
â”‚  â”‚ â€¢ name      â”‚                      â”‚ â€¢ parent            â”‚   â”‚
â”‚  â”‚ â€¢ rank      â”‚                      â”‚ â€¢ SoS               â”‚   â”‚
â”‚  â”‚ â€¢ rating    â”‚                      â”‚ â€¢ HHI               â”‚   â”‚
â”‚  â”‚ â€¢ price     â”‚                      â”‚ â€¢ CPI               â”‚   â”‚
â”‚  â”‚ â€¢ reviews   â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                 â”‚
â”‚         â”‚                                                        â”‚
â”‚         â”‚ hasMetrics                                             â”‚
â”‚         â–¼                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    ProductMetrics                        â”‚    â”‚
â”‚  â”‚                                                          â”‚    â”‚
â”‚  â”‚ â€¢ rank_delta (ìˆœìœ„ ë³€ë™)                                 â”‚    â”‚
â”‚  â”‚ â€¢ volatility (ë³€ë™ì„±)                                    â”‚    â”‚
â”‚  â”‚ â€¢ days_in_top100 (Top100 ì²´ë¥˜ì¼)                         â”‚    â”‚
â”‚  â”‚ â€¢ rating_trend (í‰ì  ì¶”ì„¸)                               â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5. RAG System (`src/rag/`)

**ë¬¸ì„œ ê²€ìƒ‰ ë° ì»¨í…ìŠ¤íŠ¸ êµ¬ì„±**

```python
from src.rag.router import RAGRouter, QueryType
from src.rag.hybrid_retriever import HybridRetriever
from src.rag.retriever import DocumentRetriever

# ì§ˆë¬¸ ë¶„ë¥˜
router = RAGRouter()
result = router.route("SoSê°€ ë­ì•¼?")
print(result["query_type"])   # QueryType.DEFINITION
print(result["confidence"])   # 0.95
print(result["target_doc"])   # "Strategic Indicators Definition"

# ì—”í‹°í‹° ì¶”ì¶œ
entities = router.extract_entities("LANEIGE Lip Care ìˆœìœ„")
# â†’ {"brands": ["LANEIGE"], "categories": ["Lip Care"], "indicators": ["ìˆœìœ„"]}

# ë¬¸ì„œ ê²€ìƒ‰
retriever = DocumentRetriever(docs_path="./docs/guides")
await retriever.initialize()
results = await retriever.search("SoS ì •ì˜", top_k=3)
# â†’ [{"content": "SoS(Share of Shelf)ëŠ”...", "metadata": {...}}]

# í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ (RAG + KG)
hybrid = HybridRetriever(knowledge_graph, reasoner)
context = await hybrid.search(
    query="LANEIGE ìˆœìœ„ ë¶„ì„",
    entities={"brands": ["LANEIGE"]},
    top_k=5
)
```

**ì§ˆë¬¸ ìœ í˜• ë¶„ë¥˜:**

| ìœ í˜• | ì„¤ëª… | ì˜ˆì‹œ | ëŒ€ìƒ ë¬¸ì„œ |
|------|------|------|-----------|
| `DEFINITION` | ìš©ì–´ ì •ì˜ | "SoSê°€ ë­ì•¼?" | Strategic Indicators Definition |
| `INTERPRETATION` | ìˆ˜ì¹˜ í•´ì„ | "SoS 15%ê°€ ì¢‹ì€ ê±°ì•¼?" | Metric Interpretation Guide |
| `DATA_QUERY` | ë°ì´í„° ì¡°íšŒ | "í˜„ì¬ LANEIGE ìˆœìœ„ëŠ”?" | Dashboard Data |
| `ANALYSIS` | ë¶„ì„ ìš”ì²­ | "ê²½ìŸì‚¬ ëŒ€ë¹„ ë¶„ì„í•´ì¤˜" | ë³µí•© ì†ŒìŠ¤ |
| `COMBINATION` | ë³µí•© ì§ˆë¬¸ | "SoS ë‚®ê³  ìˆœìœ„ ì˜¬ëìœ¼ë©´?" | Indicator Combination Playbook |

---

## API ëª…ì„¸

### Base URL
```
Production: https://amore-pacific-rag-kg-hybrid-agent-production.up.railway.app
Local: http://localhost:8001
```

### ì—”ë“œí¬ì¸íŠ¸ ê°œìš”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            API Endpoints                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  ğŸ“Š Data & Health                                                        â”‚
â”‚  â”œâ”€ GET  /                          í—¬ìŠ¤ ì²´í¬                            â”‚
â”‚  â”œâ”€ GET  /api/health                ìƒì„¸ í—¬ìŠ¤ ì²´í¬                       â”‚
â”‚  â””â”€ GET  /api/data                  ëŒ€ì‹œë³´ë“œ ë°ì´í„° ì¡°íšŒ                 â”‚
â”‚                                                                          â”‚
â”‚  ğŸ’¬ Chat API (ë²„ì „ë³„)                                                    â”‚
â”‚  â”œâ”€ POST /api/chat                  v1: ê¸°ë³¸ RAG ì±—ë´‡                    â”‚
â”‚  â”œâ”€ POST /api/v2/chat               v2: í†µí•© ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°              â”‚
â”‚  â”œâ”€ POST /api/v3/chat               v3: ë‹¨ìˆœí™”ëœ LLM ì±—ë´‡                â”‚
â”‚  â””â”€ POST /api/v4/chat               v4: Level 4 Brain (â­ ê¶Œì¥)          â”‚
â”‚                                                                          â”‚
â”‚  ğŸ§  Brain API (v4)                                                       â”‚
â”‚  â”œâ”€ GET  /api/v4/brain/status       ìƒíƒœ ì¡°íšŒ                            â”‚
â”‚  â”œâ”€ POST /api/v4/brain/scheduler/start  ìŠ¤ì¼€ì¤„ëŸ¬ ì‹œì‘                    â”‚
â”‚  â”œâ”€ POST /api/v4/brain/scheduler/stop   ìŠ¤ì¼€ì¤„ëŸ¬ ì¤‘ì§€                    â”‚
â”‚  â”œâ”€ POST /api/v4/brain/autonomous-cycle ììœ¨ ì‚¬ì´í´ ìˆ˜ë™ ì‹¤í–‰            â”‚
â”‚  â”œâ”€ POST /api/v4/brain/check-alerts     ì•Œë¦¼ ì²´í¬                        â”‚
â”‚  â”œâ”€ GET  /api/v4/brain/stats            í†µê³„ ì¡°íšŒ                        â”‚
â”‚  â””â”€ POST /api/v4/brain/mode             ëª¨ë“œ ë³€ê²½                        â”‚
â”‚                                                                          â”‚
â”‚  ğŸ”” Alert API                                                            â”‚
â”‚  â”œâ”€ GET  /api/v3/alert-settings     ì•Œë¦¼ ì„¤ì • ì¡°íšŒ                       â”‚
â”‚  â”œâ”€ POST /api/v3/alert-settings     ì•Œë¦¼ ì„¤ì • ì €ì¥                       â”‚
â”‚  â”œâ”€ POST /api/v3/alert-settings/revoke  ë™ì˜ ì² íšŒ                        â”‚
â”‚  â””â”€ GET  /api/v3/alerts             ì•Œë¦¼ ëª©ë¡ ì¡°íšŒ                       â”‚
â”‚                                                                          â”‚
â”‚  ğŸ“¡ Crawl API                                                            â”‚
â”‚  â”œâ”€ GET  /api/crawl/status          í¬ë¡¤ë§ ìƒíƒœ                          â”‚
â”‚  â””â”€ POST /api/crawl/start           ìˆ˜ë™ í¬ë¡¤ë§ ì‹œì‘                     â”‚
â”‚                                                                          â”‚
â”‚  ğŸ“„ Export                                                               â”‚
â”‚  â””â”€ POST /api/export/docx           DOCX ë¦¬í¬íŠ¸ ìƒì„±                     â”‚
â”‚                                                                          â”‚
â”‚  ğŸ–¥ï¸ Dashboard                                                            â”‚
â”‚  â””â”€ GET  /dashboard                 ëŒ€ì‹œë³´ë“œ HTML                        â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### v4 Chat API (ê¶Œì¥)

**Request:**
```http
POST /api/v4/chat
Content-Type: application/json

{
  "message": "LANEIGE ìˆœìœ„ê°€ ì–´ë–»ê²Œ ë˜ë‚˜ìš”?",
  "session_id": "user_123",
  "skip_cache": false
}
```

**Response:**
```json
{
  "text": "í˜„ì¬ LANEIGE Lip Sleeping MaskëŠ” Lip Care ì¹´í…Œê³ ë¦¬ì—ì„œ 8ìœ„ë¥¼ ê¸°ë¡í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì „ì¼ ëŒ€ë¹„ 2ë‹¨ê³„ ìƒìŠ¹í–ˆìœ¼ë©°, SoS(ì ìœ ìœ¨)ëŠ” 15.3%ë¡œ ê²½ìŸì‚¬ ëŒ€ë¹„ ìš°ìœ„ë¥¼ ìœ ì§€í•˜ê³  ìˆìŠµë‹ˆë‹¤.",
  "confidence": 0.92,
  "sources": ["Dashboard Data", "Strategic Indicators Definition"],
  "reasoning": "RAGì—ì„œ ìˆœìœ„ ì •ì˜ ë¬¸ì„œë¥¼ ê²€ìƒ‰í•˜ê³ , KGì—ì„œ LANEIGE-Lip Care ê´€ê³„ë¥¼ ì¶”ë¡ í•œ í›„, í˜„ì¬ ë©”íŠ¸ë¦­ ë°ì´í„°ì™€ ê²°í•©í•˜ì—¬ ì‘ë‹µì„ ìƒì„±í–ˆìŠµë‹ˆë‹¤.",
  "tools_used": ["query_data", "query_knowledge_graph"],
  "processing_time_ms": 1234.5,
  "from_cache": false,
  "brain_mode": "responding"
}
```

### Brain Status API

```http
GET /api/v4/brain/status
```

**Response:**
```json
{
  "mode": "idle",
  "scheduler_running": true,
  "pending_tasks": 0,
  "stats": {
    "total_queries": 150,
    "llm_decisions": 145,
    "cache_hits": 42,
    "autonomous_tasks": 12,
    "alerts_generated": 3,
    "errors": 2
  },
  "initialized": true
}
```

### Brain Mode ë³€ê²½

```http
POST /api/v4/brain/mode?mode=autonomous
```

**Available Modes:**
- `reactive`: ìˆ˜ë™ ëª¨ë“œ (ìš”ì²­ ì‹œì—ë§Œ ë™ì‘)
- `proactive`: ëŠ¥ë™ ëª¨ë“œ (ì•Œë¦¼ ì²´í¬ í™œì„±í™”)
- `autonomous`: ììœ¨ ëª¨ë“œ (ì „ì²´ ìŠ¤ì¼€ì¤„ëŸ¬ í™œì„±í™”)

---

## ì „ëµì  KPI

### KPI ì •ì˜

| KPI | ì •ì‹ ëª…ì¹­ | ì„¤ëª… | ê³„ì‚°ì‹ |
|-----|----------|------|--------|
| **SoS** | Share of Shelf | ë¸Œëœë“œ ì ìœ ìœ¨ | ë¸Œëœë“œ ì œí’ˆ ìˆ˜ / Top 100 Ã— 100% |
| **HHI** | Herfindahl-Hirschman Index | ì‹œì¥ ì§‘ì¤‘ë„ | Î£(ì‹œì¥ì ìœ ìœ¨Â²) Ã— 10,000 |
| **CPI** | Competitive Position Index | ê²½ìŸ í¬ì§€ì…˜ | ê°€ì¤‘ ìˆœìœ„ ì ìˆ˜ (ë†’ì„ìˆ˜ë¡ ì¢‹ìŒ) |
| **Volatility** | Rank Volatility | ìˆœìœ„ ë³€ë™ì„± | ìˆœìœ„ ë³€ë™ì˜ í‘œì¤€í¸ì°¨ |
| **Top10 Count** | Top 10 Products | í”„ë¦¬ë¯¸ì—„ ë…¸ì¶œ | Top 10 ë‚´ ì œí’ˆ ìˆ˜ |
| **Avg Rank** | Average Rank | í‰ê·  ìˆœìœ„ | ë¸Œëœë“œ ì œí’ˆ ìˆœìœ„ í‰ê·  |

### KPI í•´ì„ ê°€ì´ë“œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           KPI í•´ì„ ë§¤íŠ¸ë¦­ìŠ¤                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  SoS (Share of Shelf)                                                   â”‚
â”‚  â”œâ”€ 20%+ : ğŸŸ¢ ì‹œì¥ ì§€ë°°ì  ìœ„ì¹˜                                          â”‚
â”‚  â”œâ”€ 10-20%: ğŸŸ¡ ê²½ìŸë ¥ ìˆëŠ” ìœ„ì¹˜                                         â”‚
â”‚  â””â”€ <10% : ğŸ”´ ì ìœ ìœ¨ í™•ëŒ€ í•„ìš”                                          â”‚
â”‚                                                                          â”‚
â”‚  HHI (ì‹œì¥ ì§‘ì¤‘ë„)                                                       â”‚
â”‚  â”œâ”€ <1,500  : ğŸŸ¢ ë¶„ì‚° ì‹œì¥ (ê²½ìŸ ì¹˜ì—´)                                  â”‚
â”‚  â”œâ”€ 1,500-2,500: ğŸŸ¡ ì¤‘ê°„ ì§‘ì¤‘                                           â”‚
â”‚  â””â”€ >2,500  : ğŸ”´ ê³ ì§‘ì¤‘ ì‹œì¥ (ê³¼ì )                                     â”‚
â”‚                                                                          â”‚
â”‚  Volatility (ìˆœìœ„ ë³€ë™ì„±)                                                â”‚
â”‚  â”œâ”€ <3   : ğŸŸ¢ ì•ˆì •ì                                                     â”‚
â”‚  â”œâ”€ 3-7  : ğŸŸ¡ ë³´í†µ                                                      â”‚
â”‚  â””â”€ >7   : ğŸ”´ ë¶ˆì•ˆì • (ëª¨ë‹ˆí„°ë§ í•„ìš”)                                    â”‚
â”‚                                                                          â”‚
â”‚  ë³µí•© í•´ì„ ì˜ˆì‹œ:                                                         â”‚
â”‚  â”œâ”€ SoSâ†‘ + Rankâ†“ = ì €ê°€ ì œí’ˆ ì¦ê°€? í”„ë¦¬ë¯¸ì—„ ì „ëµ ê²€í†                    â”‚
â”‚  â”œâ”€ SoSâ†“ + Rankâ†‘ = í•µì‹¬ ì œí’ˆ ì§‘ì¤‘í™” ì„±ê³µ                                â”‚
â”‚  â””â”€ HHIâ†‘ + SoSâ†“ = ê²½ìŸì‚¬ ë…ì£¼, ëŒ€ì‘ ì „ëµ í•„ìš”                           â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ì„¤ì¹˜ ë° ì‹¤í–‰

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­
- Python 3.11+
- pip
- (ì„ íƒ) Docker
- OpenAI API Key
- (ì„ íƒ) Google Cloud ì„œë¹„ìŠ¤ ê³„ì • (Sheets APIìš©)

### 1. ì €ì¥ì†Œ í´ë¡ 
```bash
git clone https://github.com/tunatuna1002-lab/AMORE-PACIFIC-RAG-KG-HYBRID-AGENT-.git
cd AMORE-PACIFIC-RAG-KG-HYBRID-AGENT-
```

### 2. ê°€ìƒí™˜ê²½ ì„¤ì •
```bash
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
```

### 3. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
pip install -r requirements.txt

# Playwright ë¸Œë¼ìš°ì € ì„¤ì¹˜ (í¬ë¡¤ë§ìš©)
playwright install chromium
```

### 4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```bash
cp .env.example .env
```

`.env` íŒŒì¼ í¸ì§‘:
```env
# í•„ìˆ˜
OPENAI_API_KEY=sk-...

# ì„ íƒ (Google Sheets ì—°ë™ ì‹œ)
GOOGLE_SHEETS_SPREADSHEET_ID=...
GOOGLE_APPLICATION_CREDENTIALS=./config/credentials.json

# ì„¤ì •
DATA_PATH=./data/dashboard_data.json
LOG_LEVEL=INFO
```

### 5. ì„œë²„ ì‹¤í–‰
```bash
# ê°œë°œ ëª¨ë“œ (ìë™ ë¦¬ë¡œë“œ)
uvicorn dashboard_api:app --host 0.0.0.0 --port 8001 --reload

# ë˜ëŠ” ì§ì ‘ ì‹¤í–‰
python dashboard_api.py
```

### 6. ì ‘ì† í™•ì¸
- API ë¬¸ì„œ: http://localhost:8001/docs
- ëŒ€ì‹œë³´ë“œ: http://localhost:8001/dashboard
- í—¬ìŠ¤ ì²´í¬: http://localhost:8001/api/health

---

## ë°°í¬ ê°€ì´ë“œ

### Railway ë°°í¬ (ê¶Œì¥)

1. **Railway ê³„ì • ìƒì„±**: https://railway.app

2. **ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±**
   - Dashboard â†’ "New Project"
   - "Deploy from GitHub repo" ì„ íƒ
   - ì €ì¥ì†Œ ì—°ê²°

3. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**
   - Settings â†’ Variables
   ```
   OPENAI_API_KEY=sk-...
   PORT=8001
   ```

4. **ë„ë©”ì¸ ì„¤ì •**
   - Settings â†’ Domains
   - "Generate Domain" í´ë¦­
   - ë˜ëŠ” ì»¤ìŠ¤í…€ ë„ë©”ì¸ ì—°ê²°

5. **ìë™ ë°°í¬**
   - GitHubì— í‘¸ì‹œí•˜ë©´ ìë™ ì¬ë°°í¬
   - Deployments íƒ­ì—ì„œ ìƒíƒœ í™•ì¸

### Docker ë°°í¬

```bash
# ë¹Œë“œ
docker build -t amore-agent .

# ì‹¤í–‰
docker run -p 8001:8001 \
  -e OPENAI_API_KEY=sk-... \
  -e PORT=8001 \
  amore-agent
```

### ì£¼ìš” ì„¤ì • íŒŒì¼

**`railway.toml`:**
```toml
[build]
builder = "dockerfile"

[deploy]
healthcheckPath = "/api/health"
healthcheckTimeout = 300
restartPolicyType = "on_failure"
```

**`Dockerfile`:**
```dockerfile
FROM python:3.11-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt
RUN playwright install chromium --with-deps
COPY . .
EXPOSE 8001
CMD ["python", "start.py"]
```

---

## ê°œë°œ íˆìŠ¤í† ë¦¬

### Phase 1: Foundation (ê¸°ì´ˆ ì‹œìŠ¤í…œ)
**ëª©í‘œ**: Amazon ë°ì´í„° ìˆ˜ì§‘ ë° ì €ì¥

- âœ… CrawlerAgent: Amazon Top 100 í¬ë¡¤ë§
- âœ… StorageAgent: Google Sheets ì—°ë™
- âœ… ê¸°ë³¸ ì§€í‘œ ê³„ì‚° (ìˆœìœ„, í‰ì )
- âœ… ì¼ì¼ ë°°ì¹˜ ìŠ¤í¬ë¦½íŠ¸

### Phase 2: Analytics (ë¶„ì„ ì‹œìŠ¤í…œ)
**ëª©í‘œ**: ì „ëµì  KPI ë„ì…

- âœ… MetricsAgent: SoS, HHI, CPI ê³„ì‚°
- âœ… ë³€ë™ì„± ë¶„ì„ (Volatility)
- âœ… ê²½ìŸì‚¬ ë¹„êµ ë¶„ì„
- âœ… ëŒ€ì‹œë³´ë“œ ë°ì´í„° êµ¬ì¡°í™”

### Phase 3: AI Integration (LLM í†µí•©)
**ëª©í‘œ**: ìì—°ì–´ ì¸í„°í˜ì´ìŠ¤

- âœ… InsightAgent: LLM ê¸°ë°˜ ì¸ì‚¬ì´íŠ¸ ìƒì„±
- âœ… ChatbotAgent: ëŒ€í™”í˜• Q&A
- âœ… RAG System: ë¬¸ì„œ ê²€ìƒ‰ ê¸°ë°˜ ì‘ë‹µ
- âœ… ëŒ€í™” ë©”ëª¨ë¦¬ ê´€ë¦¬

### Phase 4: Knowledge Graph (ì˜¨í†¨ë¡œì§€)
**ëª©í‘œ**: êµ¬ì¡°í™”ëœ ì§€ì‹ í‘œí˜„

- âœ… Knowledge Graph êµ¬í˜„
- âœ… ì˜¨í†¨ë¡œì§€ ìŠ¤í‚¤ë§ˆ ì„¤ê³„
- âœ… Reasoner: ê´€ê³„ ì¶”ë¡ 
- âœ… RAG + KG í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰
- âœ… HybridInsightAgent, HybridChatbotAgent

### Phase 5: Production Hardening (ì•ˆì •í™”)
**ëª©í‘œ**: í”„ë¡œë•ì…˜ ì¤€ë¹„

- âœ… ë‹¤ì¤‘ API ë²„ì „ (v1, v2, v3)
- âœ… ë°±ê·¸ë¼ìš´ë“œ í¬ë¡¤ë§ ê´€ë¦¬
- âœ… Audit Trail ë¡œê¹…
- âœ… DOCX ë¦¬í¬íŠ¸ ìƒì„±
- âœ… ì•Œë¦¼ ì‹œìŠ¤í…œ

### Phase 6: Level 4 Autonomous (í˜„ì¬)
**ëª©í‘œ**: ì™„ì „ ììœ¨ ì—ì´ì „íŠ¸

- âœ… UnifiedBrain: LLM-First ì˜ì‚¬ê²°ì •
- âœ… QueryAgent: ì§ˆë¬¸ ì²˜ë¦¬ ì „ë‹´
- âœ… WorkflowAgent: ë°°ì¹˜ ì‘ì—… ì‹¤í–‰
- âœ… ììœ¨ ìŠ¤ì¼€ì¤„ëŸ¬ (ì¼ì¼ í¬ë¡¤ë§, ì•Œë¦¼)
- âœ… ì´ë²¤íŠ¸ ê¸°ë°˜ ì•Œë¦¼ ì‹œìŠ¤í…œ
- âœ… v4 API ì—”ë“œí¬ì¸íŠ¸

### ì•„í‚¤í…ì²˜ ê²°ì • ê¸°ë¡ (ADR)

| ê²°ì • | ì„ íƒ | ëŒ€ì•ˆ | ì´ìœ  |
|------|------|------|------|
| ì˜ì‚¬ê²°ì • ë°©ì‹ | LLM-First | Rule-First | ê·œì¹™ ê¸°ë°˜ì€ ì—£ì§€ ì¼€ì´ìŠ¤ë¥¼ ë†“ì¹¨ |
| ê²€ìƒ‰ ë°©ì‹ | RAG + KG Hybrid | RAG only | KG ì¶”ë¡ ìœ¼ë¡œ ê´€ê³„ íŒŒì•… ê°€ëŠ¥ |
| ì—ì´ì „íŠ¸ êµ¬ì¡° | Brain ì¤‘ì‹¬ | ë¶„ì‚° ì—ì´ì „íŠ¸ | ë‹¨ì¼ ì œì–´ì ìœ¼ë¡œ ì¼ê´€ì„± í™•ë³´ |
| ìš°ì„ ìˆœìœ„ | ì‚¬ìš©ì ìš”ì²­ ìµœìš°ì„  | FIFO | UX í–¥ìƒ |
| ìºì‹± ì „ëµ | TTL ê¸°ë°˜ | ì˜êµ¬ ìºì‹œ | ë°ì´í„° ì‹ ì„ ë„ ë³´ì¥ |
| ì—ëŸ¬ ì²˜ë¦¬ | ì—ì´ì „íŠ¸ë³„ ì „ëµ | ì¼ê´„ ì²˜ë¦¬ | ìœ ì—°í•œ ë³µêµ¬ ê°€ëŠ¥ |

---

## ë¼ì´ì„ ìŠ¤

MIT License

---

## ì—°ë½ì²˜

- **GitHub Issues**: [ì´ìŠˆ ë“±ë¡](https://github.com/tunatuna1002-lab/AMORE-PACIFIC-RAG-KG-HYBRID-AGENT-/issues)
- **Documentation**: [ì•„í‚¤í…ì²˜ ë¬¸ì„œ](./docs/architecture/)
